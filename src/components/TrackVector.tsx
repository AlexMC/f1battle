import React, { useEffect } from 'react';

interface Props {
  circuitKey?: string;
  className?: string;
}

const TRACK_PATHS: { [key: string]: string } = {
  'bahrain': 'M20,50 L40,30 L80,30 C90,30 95,35 95,45 L95,55 C95,65 90,70 80,70 L60,70 C50,70 45,65 45,55 L45,45 C45,35 40,30 30,30 L20,30 Z',
  'mexico city': 'M 18.262450 17.291894 L 43.075245 20.541621 L 51.123228 21.537623 L 59.600145 22.257361 L 63.685932 22.737186 L 74.227554 24.140313 L 92.599055 26.713922 L 96.386768 27.433660 L 97.033806 27.673573 L 97.375500 27.949836 L 97.549982 28.393312 L 97.593602 28.800436 L 96.902944 33.089786 L 96.990185 33.467830 L 97.208288 33.809524 L 99.142130 34.798255 L 99.701927 35.074518 L 100.000000 35.517993 L 100.000000 35.932388 L 99.614686 38.607779 L 99.011269 41.006907 L 98.066158 43.333333 L 96.990185 45.427117 L 88.556888 58.927663 L 78.444202 73.904035 L 77.797165 74.929117 L 77.709924 75.547074 L 77.840785 76.063250 L 78.146129 76.441294 L 81.155943 78.186114 L 81.454017 78.462377 L 81.497637 78.905852 L 81.286805 79.283897 L 80.770629 79.727372 L 75.129044 83.740458 L 74.569248 83.980371 L 74.096692 84.045802 L 73.667757 83.907670 L 72.635405 83.289713 L 72.460923 82.882588 L 72.460923 82.061069 L 75.041803 63.071610 L 75.005453 62.490004 L 74.743730 61.944747 L 74.358415 61.494002 L 73.754998 61.086877 L 70.745184 59.334787 L 69.669211 58.411487 L 69.022174 57.793530 L 68.375136 56.630316 L 67.684478 54.914577 L 67.001091 53.889495 L 66.223192 53.169756 L 65.365322 52.653581 L 64.202108 52.173755 L 54.903671 50.836060 L 53.871320 50.530716 L 53.231552 50.014540 L 52.926209 49.672846 L 52.671756 49.193021 L 51.464922 45.667030 L 51.079607 44.976372 L 50.476190 44.329335 L 48.971283 43.471465 L 42.086514 39.974555 L 40.101781 39.189386 L 37.222828 38.535078 L 14.154853 35.379862 L 13.682297 35.212650 L 13.427844 34.936387 L 13.209742 34.492912 L 13.166121 33.911305 L 12.780807 28.320611 L 12.308252 24.452926 L 12.133770 24.009451 L 11.792076 23.696838 L 11.319520 23.493275 L 10.716103 23.558706 L 10.069066 24.111232 L 9.247546 25.274446 L 8.774991 25.616140 L 8.215194 25.819702 L 7.575427 25.790622 L 6.841149 25.478008 L 5.983279 25.099964 L 5.161759 24.860051 L 1.250454 24.452926 L 0.603417 24.249364 L 0.298073 24.009451 L 0.043621 23.558706 L 0.000000 23.115231 L 0.254453 22.053799 L 0.814249 20.650672 L 1.548528 19.480189 L 2.624500 18.077063 L 3.874955 17.117412 L 5.467103 16.361323 L 6.928390 15.990549 L 8.346056 15.954198 L 10.410760 16.194111 L 18.262450 17.291894 Z',
  'saudi': 'M20,20 L80,20 C90,20 95,25 95,35 L95,65 C95,75 90,80 80,80 L20,80 C10,80 5,75 5,65 L5,35 C5,25 10,20 20,20 Z',
  'australian': 'M10,50 L30,30 L70,30 C80,30 85,35 85,45 L85,55 C85,65 80,70 70,70 L30,70 C20,70 15,65 15,55 L15,45 Z',
  'interlagos': `
    M 22.199236 71.780182 L 28.309994 93.433058 L 28.957140 95.713983 L 29.604286 97.029493 L 31.068322 99.023976 L 31.821557 99.586251 L 32.903671 99.989391 L 33.975175 100.000000 L 35.152769 99.777212 L 35.768088 99.480161 L 37.677700 97.867600 L 39.534267 95.979206 L 40.266285 95.480586 L 41.221091 95.172926 L 42.186505 95.119881 L 43.586887 95.533630 L 46.557394 97.199236 L 48.912582 98.090388 L 50.663060 98.504137 L 52.265012 98.695099 L 53.729047 98.769361 L 55.882665 98.535964 L 57.527053 98.207087 L 59.553363 97.538723 L 61.452366 96.530872 L 63.330151 95.183535 L 64.847231 93.719499 L 66.046043 92.159983 L 66.937195 90.695947 L 67.679822 89.051560 L 70.586675 80.256737 L 71.817314 75.843412 L 73.917887 68.353490 L 76.485254 58.784214 L 80.994059 43.104180 L 82.617229 37.449607 L 83.762996 33.481859 L 84.293444 31.635901 L 84.495014 30.468916 L 84.367706 29.376194 L 84.070656 28.633567 L 83.423509 27.753024 L 82.256525 27.010397 L 80.898578 26.490558 L 78.935922 26.119245 L 73.069170 25.058349 L 70.777636 24.824952 L 69.356036 24.920433 L 67.616168 25.143221 L 65.971780 25.588797 L 64.518353 26.373860 L 63.139189 27.116486 L 61.760025 28.156164 L 60.433906 29.503501 L 58.619775 31.614683 L 52.657543 38.987906 L 49.156588 43.528538 L 46.175472 47.411415 L 42.907914 51.336728 L 41.189264 53.522173 L 39.863144 55.166561 L 38.940165 56.100149 L 37.911097 56.683641 L 36.447061 57.161044 L 34.834500 57.352005 L 32.415659 57.298960 L 30.803098 57.054954 L 29.519414 56.683641 L 28.373647 56.206238 L 26.410991 55.230214 L 25.434967 54.434543 L 24.787821 53.649480 L 24.161893 52.514322 L 23.684490 50.976024 L 23.090388 48.705708 L 22.602376 46.626353 L 21.944621 42.807129 L 21.817314 41.226395 L 21.849141 39.624443 L 22.262890 38.404413 L 22.931254 37.789094 L 23.398048 37.566306 L 23.981540 37.385954 L 24.777212 37.301082 L 25.615319 37.492043 L 26.495863 37.810312 L 28.872268 39.465309 L 29.827074 39.985147 L 30.569701 40.271589 L 31.365372 40.420115 L 32.097390 40.473159 L 32.903671 40.377679 L 34.007002 40.006365 L 35.311903 39.019733 L 36.043921 38.022491 L 36.436452 36.929769 L 36.500106 35.996181 L 36.340972 34.914067 L 35.895396 34.065351 L 34.876936 32.696796 L 33.953957 31.848080 L 30.697008 28.930617 L 29.020794 27.169531 L 27.864418 25.599406 L 27.026310 23.498833 L 26.379164 20.889030 L 26.082113 19.308296 L 25.922979 17.886696 L 26.029069 16.719711 L 26.527689 15.924040 L 26.941439 15.446637 L 27.609803 15.245067 L 28.161468 15.117759 L 28.872268 15.223849 L 29.699767 15.531509 L 33.678124 19.679610 L 37.115425 23.159346 L 37.709527 23.604923 L 38.993210 24.421812 L 40.170804 24.899215 L 41.146828 25.164439 L 42.345640 25.344791 L 43.459580 25.461489 L 44.743263 25.472098 L 46.758965 25.206875 L 48.297263 24.750690 L 49.931042 23.891364 L 51.586039 22.660726 L 52.509018 21.546785 L 53.495650 20.294929 L 56.137280 16.486314 L 59.054742 12.009336 L 62.354127 7.118608 L 62.566306 6.545725 L 62.619351 5.866752 L 62.417781 5.198387 L 62.035858 4.476979 L 61.303840 3.851050 L 59.574581 3.023552 L 57.060259 2.185445 L 51.957352 0.424358 L 50.960110 0.180352 L 49.687036 0.000000 L 47.119669 0.254615 L 44.870571 0.604710 L 39.948016 1.570125 L 38.314237 2.079355 L 35.067897 3.320603 L 33.465945 3.967749 L 29.646722 5.856143 L 28.129641 6.800339 L 26.835349 7.861235 L 25.519839 8.975175 L 24.448334 10.131551 L 23.493529 11.489497 L 22.623594 13.218757 L 21.923403 15.064715 L 20.820072 18.830893 L 19.621260 23.573096 L 18.825589 28.039465 L 17.457034 32.802886 L 16.576491 36.388712 L 15.812646 38.871207 L 15.558031 40.674729 L 15.504986 43.125398 L 15.653512 46.032251 L 16.003607 48.207087 L 16.597708 50.742627 L 17.626777 54.392107 L 20.629111 65.955867 L 22.199236 71.780182 Z
  `.replace(/\s+/g, ' ').trim(),
};

export const TrackVector: React.FC<Props> = ({ circuitKey = 'bahrain', className = '' }) => {
  useEffect(() => {
    console.log('TrackVector received circuitKey:', circuitKey);
    console.log('Available track paths:', Object.keys(TRACK_PATHS));
    console.log('Normalized circuit key:', String(circuitKey).toLowerCase());
  }, [circuitKey]);
  
  const path = TRACK_PATHS[String(circuitKey).toLowerCase()] || TRACK_PATHS['bahrain'];

  return (
    <div className={`relative ${className}`}>
      <svg
        viewBox="0 0 100 100"
        className="w-full h-full"
        preserveAspectRatio="xMidYMid meet"
      >
        <path
          d={path}
          className="fill-none stroke-gray-600 stroke-2"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </svg>
    </div>
  );
}; 